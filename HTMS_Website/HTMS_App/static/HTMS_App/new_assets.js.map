{"version":3,"file":"new_assets.js","mappings":"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","sources":["webpack://htms/./src/js/new_assets.js"],"sourcesContent":["const searchUsersAndTickets = function () {\r\n    const searchBoxes = [\r\n        {\r\n            'name': 'user',\r\n            'search_box': '.user-search-box',\r\n            'search_btn': 'user-search--btn',\r\n            'url': 'http://127.0.0.1:8000/api/get_users/?search_value=',\r\n            'selectHtmlTagID': '#search_user_selection',\r\n        },\r\n        {\r\n            'name': 'ticket',\r\n            'search_box': '.ticket-search-box',\r\n            'search_btn': 'ticket-search--btn',\r\n            'url': 'http://127.0.0.1:8000/api/get_tickets/?search_value=',\r\n            'selectHtmlTagID': '#search_ticket_selection',\r\n        },\r\n    ]\r\n    searchBoxes.forEach((el) => {\r\n        const boxEl = document.querySelector(el.search_box)\r\n        boxEl.addEventListener('click', (e) => searchUsersClick(e, boxEl, el))\r\n    })\r\n\r\n}\r\n\r\n\r\nconst searchUsersClick = function (e, boxEl, el) {\r\n    e.preventDefault()\r\n    const searchVal = boxEl.querySelector('.search-box-input').value\r\n    if (!e.target.classList.contains(el.search_btn) || !searchVal) return\r\n    // if (!boxEl.querySelector('.search-box-input').value) return\r\n    status_update(searchVal, el)\r\n\r\n}\r\n\r\nconst readCookie = function (name) {\r\n    let nameEQ = name + \"=\";\r\n    let ca = document.cookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\r\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\r\n    }\r\n    return null;\r\n}\r\n\r\nconst status_update = async function (search_value, el) {\r\n    await fetch(`${el.url}${search_value}`).then(function (response) {\r\n        return response.json()\r\n    }).then((data) => updateSelectTag(data, el))\r\n\r\n}\r\n\r\nconst updateSelectTag = function (data, el) {\r\n    console.log(data)\r\n    data = Object.values(data)\r\n    const selectTagEl = document.querySelector(el.selectHtmlTagID)\r\n    const selectTagElParent = selectTagEl.previousElementSibling\r\n    selectTagEl.remove()\r\n    let html = ''\r\n    if (el.name == 'user') {\r\n        html += `<select  name=\"search_user_selection\" class=\"select\" id=\"${el.selectHtmlTagID.toString().slice(1)}\">\r\n                <option disabled selected hidden value=\"\"> --${data.length > 0 ? 'Select User (' + data.length : ' No Data ( No'} Users Found) -- </option> \r\n                <option value=\"0\"> &#128472 Reset User's Fields</option>`\r\n        data.forEach(user => {\r\n            html += `<option value=\"${user.id}\">${user.first_name} ${user.last_name} (${user.username})</option>`\r\n        });\r\n\r\n    }\r\n    if (el.name == 'ticket') {\r\n        html += `<select  name=\"search_ticket_selection\" class=\"select\" id=\"${el.selectHtmlTagID.toString().slice(1)}\">\r\n            <option disabled selected hidden value=\"\"> --${data.length > 0 ? 'Select Ticket (' + data.length : ' No Data ( No'} Tickets Found) -- </option> \r\n            <option value=\"0\"> &#128472 Reset Ticket's Fields</option>`\r\n        data.forEach(ticket => {\r\n            html += `<option value=\"${ticket.id}\">No. ${ticket.id} | ${ticket.requester_name} | ${ticket.request_category}</option>`\r\n        });\r\n\r\n    }\r\n    html += `</select>`\r\n    selectTagElParent.insertAdjacentHTML('afterend', html)\r\n    UserFormUpdate(data, el)\r\n}\r\n\r\nconst UserFormUpdate = function (data, el) {\r\n    const selectTagEl = document.querySelector(el.selectHtmlTagID)\r\n    const userForm = []\r\n    selectTagEl.addEventListener('change', () => {\r\n        if (el.name == 'user') {\r\n            if (selectTagEl.value == 0) userForm.forEach((el) => userFormReset(el))\r\n            if (selectTagEl.value > 0) {\r\n                const dataUser = data.find(user => user.id == selectTagEl.value)\r\n                const userFormElId = [\r\n\r\n                    { 'id': '#name', 'value': `${dataUser.first_name} ${dataUser.last_name}` },\r\n                    { 'id': '#requester_pr_number', 'value': dataUser.pr_number },\r\n                    { 'id': '#requester_designation', 'value': dataUser.designation },\r\n                    { 'id': '#requester_department', 'value': dataUser.department },\r\n                    { 'id': '#requester_email', 'value': dataUser.email },\r\n                    { 'id': '#requester_extension', 'value': dataUser.extension_number },\r\n                    { 'id': '#requester_phone_number', 'value': dataUser.mobile_number },\r\n\r\n                ]\r\n                userFormElId.forEach((el_id) => userFormUpdation(el_id.id, el_id.value, userForm))\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\nconst userFormUpdation = function (selectorName, inputValue, userForm) {\r\n    const element = document.querySelector(selectorName)\r\n    element.setAttribute('disabled', true)\r\n    element.value = inputValue\r\n    userForm.push(element)\r\n\r\n}\r\n\r\nconst userFormReset = function (element) {\r\n    element.removeAttribute('disabled')\r\n    element.value = \"\"\r\n}\r\n\r\n\r\nsearchUsersAndTickets()\r\n"],"names":["searchUsersAndTickets","searchBoxes","forEach","el","boxEl","document","querySelector","search_box","addEventListener","e","searchUsersClick","preventDefault","searchVal","value","target","classList","contains","search_btn","status_update","readCookie","name","nameEQ","ca","cookie","split","i","length","c","charAt","substring","indexOf","search_value","fetch","url","then","response","json","data","updateSelectTag","console","log","Object","values","selectTagEl","selectHtmlTagID","selectTagElParent","previousElementSibling","remove","html","toString","slice","user","id","first_name","last_name","username","ticket","requester_name","request_category","insertAdjacentHTML","UserFormUpdate","userForm","userFormReset","dataUser","find","userFormElId","pr_number","designation","department","email","extension_number","mobile_number","el_id","userFormUpdation","selectorName","inputValue","element","setAttribute","push","removeAttribute"],"sourceRoot":""}